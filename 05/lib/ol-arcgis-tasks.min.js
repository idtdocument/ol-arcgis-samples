(function(g,e){var f=function(a){this.url=a};f.prototype={endpoint:function(a){return this.url+"/query?"+this._queryUri(a)},execute:function(a,b,c){a=this.endpoint(a);a=e.post(a);a.done(b);a.fail(c);return a},executeForFields:function(a,b){var c=e.post(this.url+"?f=json");c.done(a);c.fail(b);return c},_queryUri:function(a){var b="";for(key in a)b=key in this._uri?b+(key+"="+this._uri[key](a[key])+"&"):b+(key+"="+a[key]+"&");return b.slice(0,-1)},_uri:{geometry:function(a){return encodeURIComponent(JSON.stringify(a))},
outFields:function(a){return 1===a.length?a[0]:a.join(",")},outStatistics:function(a){return encodeURIComponent(JSON.stringify(a))},groupByFieldsForStatistics:function(a){return 1===a.length?a[0]:a.join(",")},objectIds:function(a){return 1===a.length?a[0]:a.join(",")},orderByFields:function(a){return 1===a.length?a[0]:a.join(",")}}};var d=function(a){a=a.split(".");var b=g,c;"global"===a[0]&&(a=a.slice(1));for(c=0;c<a.length;c++)"undefined"===typeof b[a[c]]&&(b[a[c]]={}),b=b[a[c]];return b}("global.ol.arcgis.tasks");
d.Query=function(){};d.QueryTask=f;d.Constants={GeometryType:{point:"esriGeometryPoint",polyline:"esriGeometryPolyline",polygon:"esriGeometryPolygon",extent:"esriGeometryEnvelope",multipoint:"esriGeometryMultipoint"},SpatialRelation:{intersect:"esriSpatialRelIntersects",contain:"esriSpatialRelContains",crosse:"esriSpatialRelCrosses",envelopeIntersect:"esriSpatialRelEnvelopeIntersects",indexIntersect:"esriSpatialRelIndexIntersects",overlap:"esriSpatialRelOverlaps",touche:"esriSpatialRelTouches",within:"esriSpatialRelWithin"}}})(window,
jQuery);